package com.soprahr.Services;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.soprahr.Repository.CabinetRepository;
import com.soprahr.Repository.FormateurRepository;
import com.soprahr.models.Cabinet;
import com.soprahr.models.Formateur;

import net.minidev.json.JSONObject;

@Service
public class FormateurServices {

	@Autowired
	public FormateurRepository repositoryF;
	@Autowired
	public CabinetRepository repositoryC;
	
	/*********************************** AJOUTER UN FORMATEUR ***************************************/
	public JSONObject addFormateur(Formateur formateur) {
		JSONObject jo = new JSONObject();
		jo.put("formateur",repositoryF.save(formateur));
		return jo;
	}
	
	/*********************************** LISTE FORMATEURS ***************************************/
	public JSONObject getAllFormateurs() {
		JSONObject jo = new JSONObject();
		if ( repositoryF.findAll().size() != 0 ) {
			jo.put("formateurs" , repositoryF.findAll());
			return jo;
		}else {
			jo.put("Error" , "La liste des formateurs est vide");
			return jo;
		}
	}
	
	/*********************************** SUPPRIMER UN FORMATEUR ***************************************/
	public JSONObject deleteFormateurs(int id) {
		JSONObject jo = new JSONObject();
		if(repositoryF.findById(id).isPresent()) {
			repositoryF.delete(repositoryF.findById(id).get());
			jo.put("Success", "Formateur supprim√©");
			return jo;
		}else {
			jo.put("Error" , "Formateur n'existe pas !");
			return jo;
		}
	}
	
	/*********************************** RECHERCHER UN FORMATEUR PAR ID ***************************************/
	public JSONObject getFormateurById(int id) {
		JSONObject jo = new JSONObject();
		if(repositoryF.findById(id).isPresent()) {
			jo.put("Formateur", repositoryF.findById(id).get());
			return jo;
		}else {
			jo.put("Error" , "Formateur n'existe pas !");
			return jo;
		}
	}

}
















